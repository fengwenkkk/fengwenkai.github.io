
https://www.bilibili.com/video/BV1qx4y137um/?p=3&spm_id_from=pageDriver&vd_source=19c6d87c465ecde900a58a843c00d72f

## 6种类与类之间的关系

## 设计模式七大原则 

单一职责原则

依赖倒置原则

接口隔离原则

里氏替换原则

合成复用原则

迪米特法则

## 设计模式

设计模式总共分为三大类：

第一类是创建型模式 ，该模式通常和对象的创建有关，涉及到对象实例化的方式。包括：单例模式、工厂模式、抽象工厂模式、建造者模式、原型模式五种；

第二类是结构型模式，结构型模式描述的是如何组合类和对象来获得更大的结构。包括：代理模式、装饰者模式、适配器模式、桥接模式、组合模式、外观模式、享元模式共7种模式。

第三种是行为型模式，用来描述对类或对象怎样交互和怎样分配职责。共有：模板模式、命令模式、责任链模式、策略模式、中介者模式、观察者https://live.bilibili.com/模式、备忘录模式、访问者模式、状态模式、解释器模式、迭代器模式11种模式。

### 单例对象

1.饿汉模式：没有线程安全问题，适合多线程使用

2.懒汉模式：有线程安全问题。会同时访问一个实例。

解决方法1：在创建时加**互斥锁**
1.建立静态互斥锁mutex m_mutex（需要在对象外声明，不需要初始化）
2.在实例中加锁m_mutex.lock()
3.判断实例是否为空
**4.释放锁**不放会造成线程死锁
**这种方法效率不高**改进方法：加入if判断实例是否为空，成为双重检查锁定

使用新特性atomic管理对象。load()拿取对应内存，store()放入

解决方法2：静态局部对象

### 单例模式

#### 单例模式


